{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar AuthContext = createContext();\nexport var useAuth = function useAuth() {\n  var context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n};\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    checkAuthState();\n  }, []);\n  var checkAuthState = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var token = yield AsyncStorage.getItem(\"authToken\");\n        var userData = yield AsyncStorage.getItem(\"userData\");\n        if (token && userData) {\n          setUser(JSON.parse(userData));\n        }\n      } catch (error) {\n        console.error(\"Auth check error:\", error);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function checkAuthState() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var login = function () {\n    var _ref3 = _asyncToGenerator(function* (email, password) {\n      try {\n        var mockUser = {\n          id: \"1\",\n          email: email,\n          name: \"Demo User\",\n          phone: \"+91 9876543210\"\n        };\n        var mockToken = \"demo_token_\" + Date.now();\n        yield AsyncStorage.setItem(\"authToken\", mockToken);\n        yield AsyncStorage.setItem(\"userData\", JSON.stringify(mockUser));\n        setUser(mockUser);\n        return {\n          success: true\n        };\n      } catch (error) {\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return function login(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var logout = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        yield AsyncStorage.removeItem(\"authToken\");\n        yield AsyncStorage.removeItem(\"userData\");\n        setUser(null);\n      } catch (error) {\n        console.error(\"Logout error:\", error);\n      }\n    });\n    return function logout() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var value = {\n    user: user,\n    login: login,\n    logout: logout,\n    loading: loading\n  };\n  return _jsx(AuthContext.Provider, {\n    value: value,\n    children: children\n  });\n};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","AsyncStorage","jsx","_jsx","AuthContext","useAuth","context","Error","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","loading","setLoading","checkAuthState","_ref2","_asyncToGenerator","token","getItem","userData","JSON","parse","error","console","apply","arguments","login","_ref3","email","password","mockUser","id","name","phone","mockToken","Date","now","setItem","stringify","success","message","_x","_x2","logout","_ref4","removeItem","value","Provider"],"sources":["C:/Users/RAJAN KUMAR/Desktop/BhaktiBhraman/V1-app/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    checkAuthState();\r\n  }, []);\r\n\r\n  const checkAuthState = async () => {\r\n    try {\r\n      const token = await AsyncStorage.getItem(\"authToken\");\r\n      const userData = await AsyncStorage.getItem(\"userData\");\r\n\r\n      if (token && userData) {\r\n        setUser(JSON.parse(userData));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Auth check error:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const login = async (email, password) => {\r\n    try {\r\n      // Mock login - replace with actual API call\r\n      const mockUser = {\r\n        id: \"1\",\r\n        email: email,\r\n        name: \"Demo User\",\r\n        phone: \"+91 9876543210\",\r\n      };\r\n\r\n      const mockToken = \"demo_token_\" + Date.now();\r\n\r\n      await AsyncStorage.setItem(\"authToken\", mockToken);\r\n      await AsyncStorage.setItem(\"userData\", JSON.stringify(mockUser));\r\n\r\n      setUser(mockUser);\r\n      return { success: true };\r\n    } catch (error) {\r\n      return { success: false, error: error.message };\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    try {\r\n      await AsyncStorage.removeItem(\"authToken\");\r\n      await AsyncStorage.removeItem(\"userData\");\r\n      setUser(null);\r\n    } catch (error) {\r\n      console.error(\"Logout error:\", error);\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    login,\r\n    logout,\r\n    loading,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}